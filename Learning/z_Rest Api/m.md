
##  يعني إيه REST API؟

كلمة **REST** هي اختصار لـ: **Representational State Transfer**
وهو **نمط معماري** (Architectural Style) لتصميم الـ APIs، تم تقديمه لاول مرة سنة 2000 في رسالة دكتوراه لـ واحد اسمه Roy Fielding.

ال REST مش تكنولوجيا ولا بروتوكول، لكنه طريقة لتنظيم التواصل بين الأنظمة (زي الويب) باستخدام بروتوكول HTTP.

---

### 🔹 الهدف من REST:

* تسهيل التواصل بين Client (زي المتصفح أو تطبيق موبايل) و Server (اللي فيه البيانات والـ API).
* تنظيم الـ APIs بشكل منطقي وسهل الفهم.
* الاعتماد على بروتوكول HTTP وميزاته الجاهزة.

---

### 🔹 خصائص REST الأساسية (6 مبادئ):

| المبدأ                          | التفسير                                                                                |
| ------------------------------- | -------------------------------------------------------------------------------------- |
| **1. Client-Server**            | فصل تام بين الـ Frontend والـ Backend. كل واحد يشتغل مستقل.                            |
| **2. Stateless**                | كل Request بيُرسل لازم يحتوي كل المعلومات اللازمة، السيرفر مش بيفتكر حاجة من اللي فات. |
| **3. Cacheable**                | السيرفر يقدر يقول للعميل يخزن بيانات معينة مؤقتًا (Caching).                           |
| **4. Uniform Interface**        | كل الموارد (Resources) بتتجاب بنفس الطريقة عبر URI واضح.                               |
| **5. Layered System**           | الطلب ممكن يمر بعدة طبقات (مثل load balancer) بدون ما الكلاينت يحس.                    |
| **6. Code on Demand (اختياري)** | السيرفر ممكن يبعت كود يتنفذ على الكلاينت (زي JavaScript) – لكن قليل اللي بيستخدمه.     |

---

### 🔹 يعني إيه RESTful API؟

هو أي API معمول على مبادئ REST. بمعنى:

* كل حاجة ليها URI واضح.
* بنستخدم HTTP Methods (GET, POST, PUT, DELETE).
* البيانات غالبًا بتكون بصيغة JSON.
* مفيش جلسة (Stateless).
* في استجابة واضحة بحالة الـ Request (Status Code).

---

### 🔹 مثال عملي:

لو عندك API لإدارة الكتب، REST هيكون بالشكل ده:

| العملية         | HTTP Method | URI            |
| --------------- | ----------- | -------------- |
| عرض كل الكتب    | GET         | `/api/books`   |
| عرض كتاب معين   | GET         | `/api/books/3` |
| إضافة كتاب جديد | POST        | `/api/books`   |
| تعديل كتاب      | PUT         | `/api/books/3` |
| حذف كتاب        | DELETE      | `/api/books/3` |

---

### ال REST مش شرط يستخدم JSON

هو يعتمد على HTTP، وبالتالي يقدر يتعامل مع:

* JSON
* XML
* HTML
* Text

لكن JSON هو الشائع حاليًا بسبب خفته وسهولة التعامل معاه.

---

### 🔹 هل REST آمن؟

نعم، لكن هو مش بيحدد طريقة معينة للحماية. عشان كده بنستخدم معاها تقنيات زي:

* HTTPS (تشفير التواصل)
* JWT (للتحقق من المستخدم)
* OAuth (للصلاحيات)

---

### 🔹 مميزات RESTful APIs:

- ✅ سهلة الفهم
- ✅ بتستخدم HTTP العادي
- ✅ سريعة وخفيفة
- ✅ مناسبة لأي نوع عميل (موبايل – Web – IoT)
---

### 🔹 عيوب RESTful APIs:

- ❌ لازم الكلاينت يطلب البيانات دايمًا (Push غير مدعوم)
- ❌بيكون Stateless يعني محتاج تحمل بيانات أكتر في كل طلب
- ❌ مفيش Standard قوي جدًا مقارنة بـ GraphQL مثلًا 

---


##  يعني إيه HTTP؟ وإيه مكوناته؟

ده حجر الأساس اللي REST مبني عليه، فلازم نفهمه بعمق عشان نبقى متحكمين 100% في الـ APIs اللي بنبنيها.


HTTP = **HyperText Transfer Protocol**
هو البروتوكول الأساسي المستخدم في نقل البيانات بين **العميل (Client)** (زي المتصفح أو تطبيق الموبايل) وبين **الخادم (Server)** على الإنترنت.

---

### إزاي بيشتغل HTTP؟

هو بروتوكول بيعتمد على **الطلب والاستجابة (Request/Response Model)**:

* ال **Client** بيبعت **HTTP Request** (طلب) للسيرفر.
* ال **Server** بيرد بـ **HTTP Response** (استجابة).

كل حاجة بتتم على شكل **نصوص Text** مفهومة، غالبًا على بورت 80 (HTTP) أو 443 (HTTPS).

---

## مكونات HTTP Request

لما العميل (Client) يبعت طلب للسيرفر، بيبقى الطلب مكوّن من:

---

### 1. **Request Line**

زي:

```
GET /api/books/5 HTTP/1.1
```

*ال **GET**: هو الـ HTTP Method (اللي بنسميه Verb).
*ال **/api/books/5**: هو الـ URI (العنوان).
*ال **HTTP/1.1**: نسخة البروتوكول.

---

### ال **Headers**

معلومات إضافية بتتبع الطلب، زي:

```
Host: example.com
Content-Type: application/json
Authorization: Bearer eyJhbGci...
User-Agent: Mozilla/5.0
```

* بتحتوي على بيانات زي نوع المحتوى، معلومات المستخدم، صلاحيات، وغيرها.

---

### ال **Body / Payload** *(موجودة في POST، PUT فقط غالبًا)*

هي البيانات اللي العميل بيبعتها في جسم الطلب.
مثال:

```json
{
  "title": "C# In Depth",
  "author": "Jon Skeet"
}
```

---

##  مكونات HTTP Response

الرد اللي السيرفر بيرسله بيكون شكله كالتالي:

---

### 1. **Status Line**

مثال:

```
HTTP/1.1 200 OK
```

* **200**: كود الحالة (نجاح هنا).
* ال **OK**: وصف الحالة.
* ال **HTTP/1.1**: نسخة البروتوكول.

---

### 2. **Headers**

مثال:

```
Content-Type: application/json
Content-Length: 134
Cache-Control: no-cache
```

---

### **Body / Payload**

محتوى الرد – زي JSON، HTML، صورة، ملف...
مثال:

```json
{
  "id": 5,
  "title": "C# In Depth",
  "author": "Jon Skeet"
}
```

---

##  مصطلحات لازم تفهمها كويس:

### 1. URI = Uniform Resource Identifier

هو عنوان المورد – زي `/api/books/5`
بيمثل الشيء اللي انت عايز توصله (كتاب، يوزر... إلخ)

---

### 2. HTTP Verbs (Methods)

هنشرحهم تفصيليًا في الخطوة الجاية، لكن دول: `GET, POST, PUT, DELETE, PATCH...`

---

###  3. Headers

بتحمل Metadata عن الطلب أو الرد.
زي:

* `Content-Type`: نوع البيانات (`application/json`)
* `Authorization`: التوكن بتاع المستخدم
* `Accept`: العميل عايز يرد عليه بأي صيغة

---

###  4. Payload

هو جسم الرسالة (Body) اللي بيحتوي على البيانات سواء في الطلب أو الرد.

---

##  مثال كامل لطلب:

### 🔸 Request:

```
POST /api/books HTTP/1.1
Host: example.com
Content-Type: application/json
Authorization: Bearer xyz...

{
  "title": "Clean Code",
  "author": "Robert C. Martin"
}
```

### 🔸 Response:

```
HTTP/1.1 201 Created
Content-Type: application/json

{
  "id": 10,
  "title": "Clean Code",
  "author": "Robert C. Martin"
}
```

---

## 🧠 ملخص سريع:

| المصطلح      | المعنى                                               |
| ------------ | ---------------------------------------------------- |
| **HTTP**     | بروتوكول بيستخدم لنقل البيانات بين الكلاينت والسيرفر |
| **Request**  | رسالة من الكلاينت فيها: verb + uri + headers + body  |
| **Response** | رسالة من السيرفر فيها: status + headers + body       |
| **URI**      | عنوان المورد                                         |
| **Header**   | بيانات إضافية عن الطلب أو الرد                       |
| **Payload**  | جسم البيانات                                         |

---
