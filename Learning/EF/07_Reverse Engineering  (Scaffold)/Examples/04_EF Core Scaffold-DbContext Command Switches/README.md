# EF Core Scaffold-DbContext Command Switches

The `Scaffold-DbContext` command in Entity Framework Core (EF Core) is a powerful tool that reverse engineers a database schema into a DbContext class and entity classes. This command has several switches that control its behavior. Here's a detailed explanation of these switches and their uses:

## Overview

### Command Syntax
```sh
Scaffold-DbContext [ConnectionString] [Provider] [Switches]
```

### Common Switches
- `-DataAnnotations`
- `-UseDatabaseNames`
- `-Context`
- `-ContextDir`
- `-OutputDir`
- `-Schemas`
- `-Tables`
- `-Force`
- `-Project`
- `-StartupProject`
- `-NoOnConfiguring`
- `-NoPluralize`
- `-SuppressOnConfiguringWarning`
- `-Help`

## Switches and Their Uses

### 1. `-DataAnnotations`
Use this switch to use data annotations in the generated entity classes.

**Usage:**
```sh
Scaffold-DbContext "YourConnectionString" YourProvider -DataAnnotations
```
**Explanation:**
- When used, EF Core will decorate the generated classes with data annotation attributes, such as `[Key]`, `[Required]`, and `[MaxLength]`, instead of using the Fluent API in the `OnModelCreating` method.

### 2. `-UseDatabaseNames`
Use this switch to use the database names directly for tables and columns instead of using C# naming conventions.

**Usage:**
```sh
Scaffold-DbContext "YourConnectionString" YourProvider -UseDatabaseNames
```
**Explanation:**
- When used, EF Core will keep the original names from the database schema, preserving case sensitivity and special characters.

### 3. `-Context`
Use this switch to specify a custom name for the DbContext class.

**Usage:**
```sh
Scaffold-DbContext "YourConnectionString" YourProvider -Context YourCustomContextName
```
**Explanation:**
- By default, EF Core generates a DbContext class named after the database. This switch allows you to provide a specific name for the DbContext.

### 4. `-ContextDir`
Use this switch to specify the directory where the DbContext class should be placed.

**Usage:**
```sh
Scaffold-DbContext "YourConnectionString" YourProvider -ContextDir Data/Context
```
**Explanation:**
- By default, the DbContext class is created in the root of the project. This switch allows you to place it in a specific directory.

### 5. `-OutputDir`
Use this switch to specify the directory where the entity classes should be placed.

**Usage:**
```sh
Scaffold-DbContext "YourConnectionString" YourProvider -OutputDir Models
```
**Explanation:**
- By default, the entity classes are created in the root of the project. This switch allows you to place them in a specific directory.

### 6. `-Schemas`
Use this switch to include only the specified schemas in the reverse engineering process.

**Usage:**
```sh
Scaffold-DbContext "YourConnectionString" YourProvider -Schemas dbo,auth
```
**Explanation:**
- This switch allows you to specify a comma-separated list of schemas to include. If not specified, all schemas are included.

### 7. `-Tables`
Use this switch to include only the specified tables in the reverse engineering process.

**Usage:**
```sh
Scaffold-DbContext "YourConnectionString" YourProvider -Tables Users,Orders
```
**Explanation:**
- This switch allows you to specify a comma-separated list of tables to include. If not specified, all tables are included.

### 8. `-Force`
Use this switch to overwrite existing files without prompting for confirmation.

**Usage:**
```sh
Scaffold-DbContext "YourConnectionString" YourProvider -Force
```
**Explanation:**
- When used, EF Core will overwrite any existing files generated by a previous scaffold operation without asking for confirmation.

### 9. `-Project`
Use this switch to specify the target project for the scaffolded files.

**Usage:**
```sh
Scaffold-DbContext "YourConnectionString" YourProvider -Project YourProjectName
```
**Explanation:**
- This switch allows you to specify the project where the generated files should be placed.

### 10. `-StartupProject`
Use this switch to specify the startup project to use for database connection.

**Usage:**
```sh
Scaffold-DbContext "YourConnectionString" YourProvider -StartupProject YourStartupProject
```
**Explanation:**
- This switch allows you to specify a different startup project, which is useful when your startup project differs from the target project.

### 11. `-NoOnConfiguring`
Use this switch to exclude the `OnConfiguring` method from the generated DbContext class.

**Usage:**
```sh
Scaffold-DbContext "YourConnectionString" YourProvider -NoOnConfiguring
```
**Explanation:**
- When used, EF Core will not generate the `OnConfiguring` method in the DbContext class, which is useful if you plan to configure the context externally (e.g., in the `Startup.cs` file).

### 12. `-NoPluralize`
Use this switch to disable pluralizing table names when generating entity classes.

**Usage:**
```sh
Scaffold-DbContext "YourConnectionString" YourProvider -NoPluralize
```
**Explanation:**
- By default, EF Core pluralizes table names (e.g., `User` becomes `Users`). This switch disables that behavior.

### 13. `-SuppressOnConfiguringWarning`
Use this switch to suppress the warning generated by the inclusion of the `OnConfiguring` method with sensitive information.

**Usage:**
```sh
Scaffold-DbContext "YourConnectionString" YourProvider -SuppressOnConfiguringWarning
```
**Explanation:**
- This switch is useful if you want to include the `OnConfiguring` method but do not want the warning about sensitive information.

### 14. `-Help`
Use this switch to display the help information for the `Scaffold-DbContext` command.

**Usage:**
```sh
Scaffold-DbContext -Help
```
**Explanation:**
- Displays detailed information about the `Scaffold-DbContext` command and its switches.

## Example Usage

### Example 1: Basic Command
```sh
Scaffold-DbContext "Data Source=YourServer;Initial Catalog=YourDatabase;Integrated Security=True" Microsoft.EntityFrameworkCore.SqlServer
```

### Example 2: Using Multiple Switches
```sh
Scaffold-DbContext "Data Source=YourServer;Initial Catalog=YourDatabase;Integrated Security=True" Microsoft.EntityFrameworkCore.SqlServer -DataAnnotations -UseDatabaseNames -ContextDir Data/Context -OutputDir Models -Force
```

## Conclusion

The `Scaffold-DbContext` command in EF Core is a versatile tool that can be customized using various switches to meet your specific needs. Understanding these switches and how to use them effectively can streamline your development process and ensure that your codebase is well-structured and maintainable.